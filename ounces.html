<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Convert ounces to normal system</title>
        <script type="text/javascript">
        "use strict";

        var regex = /(\d+[\/\d. ]*|\d)(?:\-|\s)(ounce[sS]?|oz)/ig;


        function replacer(match, p1, p2) {
            if (p1.includes('/')) {
                var split = p1.split('/');
                var num = parseInt(split[0]);
                var denum = parseInt(split[1]);
                p1 = num / denum;
            }
            return (p1 * 28.3496) + 'g';
        }

        // stringToReplace.replace(regex, function(match, p1, p2, offset, string) { return (p1 * 28.3495) + 'g'; })
        // var result = stringToReplace.replace(regex, replacer);
        // console.log(result);

        function fixMetricSystem() {
            var input = document.getElementById('input').value;
            var result = input.replace(regex, replacer);
            var output = document.getElementById('output');
            output.innerHTML = result;
        }
        </script>
        <style media="screen">
            * {
                font-family: sans-serif;
            }
            input { margin: 10px; }

            #input {
                width: 800px;
                height: 200px;
            }

            p {
                /*border-color: #cccccc;*/
                /*border-radius: 3px;*/
                background-color: #cccccc;
            }
        </style>
    </head>
    <body>
        <div style="margin: 100px">
            <form>
                Text with stupid system:<br>
                <textarea type="text" name="name" value="" id="input"></textarea><br>
                <input type="button" name="name" value="Fix metric system" onclick="fixMetricSystem();"><br>
                Text with nice system everyone use:<br>
                <p id="output">
                    <br>
                </p>
            </form>
        </div>
    </body>
</html>
