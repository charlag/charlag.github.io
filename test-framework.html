<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <button type="button" id="btn_request_vk_auth">VK auth</button>
    <button type="button" id="btn_request_fb_auth">FB auth</button>
    <p id="current_url"></p>

    <script type="text/javascript">
    function updateUrlParameter(uri, key, value) {
      // remove the hash part before operating on the uri
      var i = uri.indexOf('#');
      var hash = i === -1 ? ''  : uri.substr(i);
      uri = i === -1 ? uri : uri.substr(0, i);

      var re = new RegExp("([?&])" + key + "=.*?(&|$)", "i");
      var separator = uri.indexOf('?') !== -1 ? "&" : "?";

      if (!value) {
        // remove key-value pair if value is empty
        uri = uri.replace(new RegExp("([?&]?)" + key + "=[^&]*", "i"), '');
        if (uri.slice(-1) === '?') {
          uri = uri.slice(0, -1);
        }
        // replace first occurrence of & by ? if no ? is present
        if (uri.indexOf('?') === -1) uri = uri.replace(/&/, '?');
      } else if (uri.match(re)) {
        uri = uri.replace(re, '$1' + key + "=" + value + '$2');
      } else {
        uri = uri + separator + key + "=" + value;
      }
      return uri + hash;
    }

    function logInVK() {
      window.location.href = updateUrlParameter(window.location.href, 'request_vk_auth', '1');
    }

    function logInFB() {
      window.location.href = updateUrlParameter(window.location.href, 'request_fb_auth', '1');
    }

      document.getElementById('btn_request_vk_auth').onclick = logInVK;
      document.getElementById('btn_request_fb_auth').onclick = logInFB;
      document.getElementById('current_url').innerHTML = window.location.href;
    </script>
  </body>
</html>
